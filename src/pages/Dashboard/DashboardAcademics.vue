<template>
  <q-page class="q-pa-md">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="q-mb-md">
            <h5 class="q-my-sm w600">Dashboard</h5>
            <span>Dashboard &gt;
              <span style="color: #0288d1">Academics</span></span>
          </div>
          <div>
            <h5 class="q-my-sm text-h6">Assignments</h5>
            <div class="row q-pb-sm q-pt-sm">
              <div class="col-3 q-pr-md transform">
                <q-card class="q-px-md q-pt-md q-pb-sm card1-aca">
                  <div class="row" style="justify-content: space-between">
                    <div class="row">
                      <span class="material-symbols-outlined q-pa-md card-icon card1-icon-aca">pending</span>
                      <div class="q-pl-md">
                        <span class="card-heading-aca">Total Pending</span><br />
                        <span class="w600 card-data-aca" style="font-size: 22px">
                          565</span>
                      </div>
                      <div></div>
                    </div>
                    <div></div>
                  </div>
                  <div class="row card-common-css-aca">
                    <div class="card-month-data-aca">

                      <q-btn flat class="col  view-btn-aca view-btn1-aca">view All
                       <q-icon class="view-arrow-aca" name="arrow_forward"/>
                      </q-btn>
                    </div>
                    <div>
                      <span class="material-symbols-outlined card1-side-icon-aca"> bar_chart</span>
                    </div>
                  </div>
                </q-card>
              </div>

              <div class="col-3 q-pr-md transform">
                <q-card class="q-px-md q-pt-md q-pb-sm card2-aca">
                  <div class="row" style="justify-content: space-between">
                    <div class="row">
                      <span class="material-symbols-outlined q-pa-md card-icon card2-icon-aca">checklist</span>
                      <div class="q-pl-md">
                        <span class="card-heading-aca">Total Evaluated</span><br />
                        <span class="w600 card-data-aca" style="font-size: 22px">
                          465</span>
                      </div>
                      <div></div>
                    </div>
                    <div></div>
                  </div>
                  <div class="row card-common-css-aca">
                    <div class="card-month-data-aca">

                      <q-btn flat class="col  view-btn-aca view-btn2-aca">view All
                       <q-icon class="view-arrow-aca" name="arrow_forward"/>
                      </q-btn>
                    </div>
                    <div>
                      <span class="material-symbols-outlined card2-side-icon-aca"> bar_chart</span>
                    </div>
                  </div>
                </q-card>
              </div>

              <div class="col-3 q-pr-md transform">
                <q-card class="q-px-md q-pt-md q-pb-sm card3-aca">
                  <div class="row" style="justify-content: space-between">
                    <div class="row">
                      <span class="material-symbols-outlined q-pa-md card-icon card3-icon-aca">library_books</span>
                      <div class="q-pl-md">
                        <span class="card-heading-aca">Total Published</span><br />
                        <span class="w600 card-data-aca" style="font-size: 22px">
                          465</span>
                      </div>
                      <div></div>
                    </div>
                    <div></div>
                  </div>
                  <div class="row card-common-css-aca">
                    <div class="card-month-data-aca">

                      <q-btn flat class="col  view-btn-aca view-btn3-aca">view All
                       <q-icon class="view-arrow-aca" name="arrow_forward"/>
                      </q-btn>
                    </div>
                    <div>
                      <span class="material-symbols-outlined card3-side-icon-aca"> bar_chart</span>
                    </div>
                  </div>
                </q-card>
              </div>
              <div class="col-3 q-pr-md transform">
                <q-card class="q-px-md q-pt-md q-pb-sm card4-aca">
                  <div class="row" style="justify-content: space-between">
                    <div class="row">
                      <span class="material-symbols-outlined q-pa-md card-icon card4-icon-aca">warning</span>
                      <div class="q-pl-md">
                        <span class="card-heading-aca">Critical Cases</span><br />
                        <span class="w600 card-data-aca" style="font-size: 22px">
                          465</span>
                      </div>
                      <div></div>
                    </div>
                    <div></div>
                  </div>
                  <div class="row card-common-css-aca">
                    <div class="card-month-data-aca">

                      <q-btn flat class="col  view-btn-aca view-btn4-aca">view All
                       <q-icon class="view-arrow-aca" name="arrow_forward"/>
                      </q-btn>
                    </div>
                    <div>
                      <span class="material-symbols-outlined card4-side-icon-aca"> bar_chart</span>
                    </div>
                  </div>
                </q-card>
              </div>
            </div>
          </div>
          <div>
            <h5 class="q-my-sm text-h6">Projects</h5>
            <div class="row q-pb-sm">

              <div class="col-3 q-pr-md transform">
                <q-card class="q-px-md q-pt-md q-pb-sm card5-aca">
                  <div class="row" style="justify-content: space-between">
                    <div class="row">
                      <span class="material-symbols-outlined q-pa-md card-icon card5-icon-aca">pending</span>
                      <div class="q-pl-md">
                        <span class="card-heading-aca">Total Pending</span><br />
                        <span class="w600 card-data-aca" style="font-size: 22px">
                          465</span>
                      </div>
                      <div></div>
                    </div>
                    <div></div>
                  </div>
                  <div class="row card-common-css-aca">
                    <div class="card-month-data-aca">

                      <q-btn flat class="col  view-btn-aca view-btn5-aca">view All
                       <q-icon class="view-arrow-aca" name="arrow_forward"/>
                      </q-btn>
                    </div>
                    <div>
                      <span class="material-symbols-outlined card5-side-icon-aca"> bar_chart</span>
                    </div>
                  </div>
                </q-card>
              </div>

              <div class="col-3 q-pr-md transform">
                <q-card class="q-px-md q-pt-md q-pb-sm card6-aca">
                  <div class="row" style="justify-content: space-between">
                    <div class="row">
                      <span class="material-symbols-outlined q-pa-md card-icon card6-icon-aca">checklist</span>
                      <div class="q-pl-md">
                        <span class="card-heading-aca">Total Evaluated</span><br />
                        <span class="w600 card-data-aca" style="font-size: 22px">
                          465</span>
                      </div>
                      <div></div>
                    </div>
                    <div></div>
                  </div>
                  <div class="row card-common-css-aca">
                    <div class="card-month-data-aca">

                      <q-btn flat class="col  view-btn-aca view-btn6-aca">view All
                       <q-icon class="view-arrow-aca" name="arrow_forward"/>
                      </q-btn>
                    </div>
                    <div>
                      <span class="material-symbols-outlined card6-side-icon-aca"> bar_chart</span>
                    </div>
                  </div>
                </q-card>
              </div>

              <div class="col-3 q-pr-md transform">
                <q-card class="q-px-md q-pt-md q-pb-sm card7-aca">
                  <div class="row" style="justify-content: space-between">
                    <div class="row">
                      <span class="material-symbols-outlined q-pa-md card-icon card7-icon-aca">library_books</span>
                      <div class="q-pl-md">
                        <span class="card-heading-aca">Total Published</span><br />
                        <span class="w600 card-data-aca" style="font-size: 22px">
                          465</span>
                      </div>
                      <div></div>
                    </div>
                    <div></div>
                  </div>
                  <div class="row card-common-css-aca">
                    <div class="card-month-data-aca">

                      <q-btn flat class="col  view-btn-aca view-btn7-aca">view All
                       <q-icon class="view-arrow-aca" name="arrow_forward"/>
                      </q-btn>
                    </div>
                    <div>
                      <span class="material-symbols-outlined card7-side-icon-aca"> bar_chart</span>
                    </div>
                  </div>
                </q-card>
              </div>
              
              <div class="col-3 q-pr-md transform">
                <q-card class="q-px-md q-pt-md q-pb-sm card8-aca">
                  <div class="row" style="justify-content: space-between">
                    <div class="row">
                      <span class="material-symbols-outlined q-pa-md card-icon card8-icon-aca">warning</span>
                      <div class="q-pl-md">
                        <span class="card-heading-aca">Critical Cases</span><br />
                        <span class="w600 card-data-aca" style="font-size: 22px">
                          465</span>
                      </div>
                      <div></div>
                    </div>
                    <div></div>
                  </div>
                  <div class="row card-common-css-aca">
                    <div class="card-month-data-aca">

                      <q-btn flat class="col  view-btn-aca view-btn8-aca">view All
                       <q-icon class="view-arrow-aca" name="arrow_forward"/>
                      </q-btn>
                    </div>
                    <div>
                      <span class="material-symbols-outlined card8-side-icon-aca"> bar_chart</span>
                    </div>
                  </div>
                </q-card>
              </div>
            
              
            </div>
          </div>

          <div class="row">
            <div class="col-6 q-pr-md q-mt-lg">
              <q-card>
                <q-toolbar class="shadow-2">
                  <h5 class="q-ma-none w600">Critical Cases</h5>

                  <q-space />
                  <q-tabs v-model="tab" dense class="bg-white text-negative">
                    <q-tab name="tab1" icon="layers" label="Assignment" />
                    <q-tab name="tab2" icon="menu_book" label="Project" />
                  </q-tabs>
                </q-toolbar>

                <q-separator />

                <q-tab-panels v-model="tab" animated>
                  <q-tab-panel name="tab1" style="padding:0">
                    <q-markup-table class="table-height-acad">
                      <thead class="head-color-acad">
                        <tr>

                          <th class="text-left w500">
                            Course
                            <q-icon name="book" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                          <th class="text-left w500">
                            Name
                            <q-icon name="person" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                          <th class="text-left w500">
                            Date
                            <q-icon name="article" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>

                          <td>
                            <div class="wrap-title">
                              Course
                              <q-tooltip anchor="top middle" self="bottom middle" :offset="[10, 10]"
                                transition-show="scale" transition-hide="scale">
                                Course
                              </q-tooltip>
                            </div>
                          </td>
                          <td>John Doe</td>
                          <td>
                            <q-badge outline class="course-date-acad">Time
                            </q-badge>
                          </td>
                        </tr>
                      </tbody>
                    </q-markup-table>
                  </q-tab-panel>

                  <q-tab-panel name="tab2" style="padding:0">
                    <q-markup-table class="table-height-acad">
                      <thead class="head-color-acad">
                        <tr>

                          <th class="text-left w500">
                            Course
                            <q-icon name="book" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                          <th class="text-left w500">
                            Name
                            <q-icon name="person" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                          <th class="text-left w500">
                            Date
                            <q-icon name="article" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>

                          <td>
                            <div class="wrap-title">
                              Course
                              <q-tooltip anchor="top middle" self="bottom middle" :offset="[10, 10]"
                                transition-show="scale" transition-hide="scale">
                                Course
                              </q-tooltip>
                            </div>
                          </td>
                          <td>John Doe</td>
                          <td>
                            <q-badge outline class="course-date-acad">Time
                            </q-badge>
                          </td>
                        </tr>
                      </tbody>
                    </q-markup-table>
                  </q-tab-panel>
                </q-tab-panels>
              </q-card>
            </div>
            <div class="col-6 q-mt-lg">
              <q-card>
                <q-toolbar class="shadow-2">
                  <h5 class="q-ma-none w600">All Pending</h5>

                  <q-space />
                  <q-tabs v-model="tabModel" dense style="color: #845bdf">
                    <q-tab name="tab1" icon="layers" label="Assignment" />
                    <q-tab name="tab2" icon="menu_book" label="Project" />
                  </q-tabs>
                </q-toolbar>

                <q-separator />

                <q-tab-panels v-model="tabModel" animated>
                  <q-tab-panel name="tab1" style="padding:0">
                    <q-markup-table class="table-height-acad">
                      <thead class="head-color-acad">
                        <tr>

                          <th class="text-left w500">
                            Course
                            <q-icon name="book" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                          <th class="text-left w500">
                            Name
                            <q-icon name="person" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                          <th class="text-left w500">
                            Date
                            <q-icon name="article" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>

                          <td>
                            <div class="wrap-title">
                              Course
                              <q-tooltip anchor="top middle" self="bottom middle" :offset="[10, 10]"
                                transition-show="scale" transition-hide="scale">
                                Course
                              </q-tooltip>
                            </div>
                          </td>
                          <td>John Doe</td>
                          <td>
                            <q-badge outline class="course-date-acad">Time
                            </q-badge>
                          </td>
                        </tr>
                      </tbody>
                    </q-markup-table>
                  </q-tab-panel>

                  <q-tab-panel name="tab2" style="padding:0">
                    <q-markup-table class="table-height-acad">
                      <thead class="head-color-acad">
                        <tr>

                          <th class="text-left w500">
                            Course
                            <q-icon name="book" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                          <th class="text-left w500">
                            Name
                            <q-icon name="person" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                          <th class="text-left w500">
                            Date
                            <q-icon name="article" style="font-size: 20px; padding-left: 7px"></q-icon>
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>

                          <td>
                            <div class="wrap-title">
                              Course
                              <q-tooltip anchor="top middle" self="bottom middle" :offset="[10, 10]"
                                transition-show="scale" transition-hide="scale">
                                Course
                              </q-tooltip>
                            </div>
                          </td>
                          <td>John Doe</td>
                          <td>
                            <q-badge outline class="course-date-acad">Time
                            </q-badge>
                          </td>
                        </tr>
                      </tbody>
                    </q-markup-table>
                  </q-tab-panel>
                </q-tab-panels>
              </q-card>
            </div>
          </div>
        </div>
      </div>
    </div>
  </q-page>
</template>

<script setup>
import { onMounted, onBeforeMount, reactive, ref } from "vue";
import { api2, api } from "../../boot/axios";
import { useRoute, useRouter } from "vue-router";
import { Notify, LocalStorage } from "quasar";
import { Loading, QSpinnerPie } from "quasar";

const route = useRoute();
const router = useRouter();
const access = LocalStorage.getItem('access_key')

const tab = ref("tab1");
const tabModel = ref("tab1");

const data = reactive({
  assignmentPendingCount: null,
  assignmentEvaluatedCount: null,
  assignmentPublishedCount: null,
  assignmentCriticalCount: null,
  projectPendingCount: null,
  projectEvaluatedCount: null,
  projectPublishedCount: null,
  projectCriticalCount: null,
})


api2.post("project-count").then((response) => {});
 
api2.post("assignment-count", {
  params: {
    action: 0,
    user_id: LocalStorage.getItem('u_id'),
  }
}).then((response) => {});

api2.post("assignment-count", {
  params: {
    action: 1,
    user_id: LocalStorage.getItem('u_id'),
  }
}).then((response) => {});

api2.post("critical-count",{
    params: {
        action: 1,
        user_id: LocalStorage.getItem('u_id'),
    }
}).then((response) => {});
 

    

</script>

<style>
.container {
  width: auto;
  height: 100%;
}

.table-height-acad {
  height: 290px;
  position: relative;
}

.head-color-acad {
  background-color: #f9f9fd;
  position: sticky;
  top: 0;
  z-index: 1;
}

.course-date-acad {
  color: rgb(113, 113, 249);
}







/* card common css */

.view-arrow-aca {
  margin-left: 5px;
  font-size: 14px !important;
  padding-bottom: 3px;
}

.card-common-css-aca {
  justify-content: space-between;
  align-items: center;
}

.card-icon{
  color: white;
  font-size: 28px !important;
  border-radius: 10px !important;
}

.card-heading-aca {
  font-size: 16px;
  color: grey;
}

.transform {
  position: relative;
  transition: transform 0.2s;
  perspective: 1000px;
}

.transform:hover {
  transform: translateY(-10px);
}

.card-month-data-aca {
  margin-left: 78px;
}



.view-btn-aca {
  font-size: 12px;
  margin-left: -16px;
  border-radius: 50px;
}



/* card css */

.card1-icon-aca {
  background-color: #845adf;
}

.view-btn1-aca {
  color: #845cdf;
}

.card1-side-icon-aca {
  color: #845adf;
  font-size: 45px;
}

.card1-aca:hover {
  background-position: 100% 100%;
}

.card1-aca {
  background: linear-gradient(#fff, #fff 50%, #e8e1f7 50%, #e9e1fb);
  background-size: 100% 200%;
  transition: 0.8s;
}



.card2-icon-aca {
  background-color: #23b7e5;
}

.view-btn2-aca {
  color: #23b7e5;
}

.card2-side-icon-aca {
  color:  #23b7e5;
  font-size: 45px;
}

.card2-aca:hover {
  background-position: 100% 100%;
}

.card2-aca {
  background: linear-gradient(#fff, #fff 50%, #c3edfa 50%, #c3edfa);
  background-size: 100% 200%;
  transition: 0.8s;
}

.card3-icon-aca {
  background-color:  #26bf94;
}

.view-btn3-aca {
  color:  #26bf94;
}

.card3-side-icon-aca {
  color:   #26bf94;
  font-size: 45px;
}

.card3-aca:hover {
  background-position: 100% 100%;
}

.card3-aca {
  background: linear-gradient(#fff, #fff 50%, #b3ffea 50%, #b3ffea);
  background-size: 100% 200%;
  transition: 0.8s;
}

.card4-icon-aca {
  background-color:  #f5b849;
}

.view-btn4-aca {
  color:  #f5b849;
}

.card4-side-icon-aca {
  color:   #f5b849;
  font-size: 45px;
}

.card4-aca:hover {
  background-position: 100% 100%;
}

.card4-aca {
  background: linear-gradient(#fff, #fff 50%, #ffe7bc 50%, #ffe7bc);
  background-size: 100% 200%;
  transition: 0.8s;
}

.card5-icon-aca {
  background-color:  #f58b49;
}

.view-btn5-aca {
  color:  #f58b49;
}

.card5-side-icon-aca {
  color:   #f58b49;
  font-size: 45px;
}

.card5-aca:hover {
  background-position: 100% 100%;
}

.card5-aca {
  background: linear-gradient(#fff, #fff 50%, #ffe4d4 50%, #ffe4d4);
  background-size: 100% 200%;
  transition: 0.8s;
}

.card6-icon-aca {
  background-color:  #adf34b;
}

.view-btn6-aca {
  color:  #adf34b;
}

.card6-side-icon-aca {
  color:   #adf34b;
  font-size: 45px;
}

.card6-aca:hover {
  background-position: 100% 100%;
}

.card6-aca {
  background: linear-gradient(#fff, #fff 50%, #dbefbe 50%, #dbefbe);
  background-size: 100% 200%;
  transition: 0.8s;
}

.card7-icon-aca {
  background-color:  #496bf5;
}

.view-btn7-aca {
  color:  #496bf5;
}

.card7-side-icon-aca {
  color:   #496bf5;
  font-size: 45px;
}

.card7-aca:hover {
  background-position: 100% 100%;
}

.card7-aca {
  background: linear-gradient(#fff, #fff 50%, #c7d1f7 50%, #c7d1f7);
  background-size: 100% 200%;
  transition: 0.8s;
}

.card8-icon-aca {
  background-color:  #e749f5;
}

.view-btn8-aca {
  color:  #e749f5;
}

.card8-side-icon-aca {
  color:   #e749f5;
  font-size: 45px;
}

.card8-aca:hover {
  background-position: 100% 100%;
}

.card8-aca {
  background: linear-gradient(#fff, #fff 50%, #ecbef0 50%, #ecbef0);
  background-size: 100% 200%;
  transition: 0.8s;
}

</style>